from django.db import modelsfrom django.contrib.auth.models import AbstractUser, PermissionsMixinfrom django.contrib.auth.models import Groupfrom django.contrib.auth import get_user_modelfrom apps.movies.models import Moviesclass User(AbstractUser, PermissionsMixin):    email = models.EmailField(unique=True)    viewed = models.ManyToManyField(Movies)    is_active = models.BooleanField(verbose_name="Актив", default=True)    is_staff = models.BooleanField(verbose_name='Админ', default=False)    USERNAME_FIELD = 'email'    REQUIRED_FIELDS = ['username']    class Meta:        verbose_name = 'Пользователь'        verbose_name_plural = 'Пользователи'    def save(self, *args, **kwargs):        super().save(*args, **kwargs)        group = Group.objects.get(name='users')        self.groups.add(group)